# What-s-your-EDA
세번째 팀의 심화 프로젝트이다

2024-02-07
ver 설명드리기 직전 버전
X,y 초기화기능 함수로 구현하여 추가 reset_X_y(data:pd.DataFrame = train_df, y_col='대출등급')
이상치 제거 함수로 구현

결측치 처리 함수 부분 아직 작업중

ver 설명드리고 직후 b_ksy1      
Train data Train과 Test로 데이터 분리 추가      
(추가로 y_train 인코딩해준 것 확인하는 부분 추가)

ver 설명드리고 직후 b_ksy2      
0인경우 에대해 범주형으로 추가해준것 비교       
    + 해당하는 row 데이터 조회할 수있게 아래 코드로 구현해뒀음      
<strike>train과 test 데이터 분리후 reset_index기능 추가 </strike> -> 꼭 사용해야할까 생각이 되어 일반 주석처리     
df에서 ID부분 제외시키던 것 다시 주석처리해서 포함시킴      
인코딩하는 부분 일단 전부 get_dummies로 인코딩하게 주석해제시켜놓음     

ver 창완님 코드 건내받고 수동으로 추가해서 반영 b_ksy3
(창완님 하신 부분) 
주어진 열들에 대하여 IQR 방식 기준으로 이상치 확인하는 함수
주어진 열들에 대하여 IQR 방식 기준으로 이상치 제거하는 함수

평가표에 평가지표  accuracy, recall, precision, f1-score로 출력되게 추가
confusioin matrix와 multilabell_confusioin matrix 출력 선택기능과 함께 추가
현재 마지막부분에서 XGB 함수만 에러 →연휴중 또는 연휴 끝나고 확인하여 수정예정

ver 설연휴 끝내고 나서 b_ksy_3      
<strike>object에서 category로 바꿔주는 것이 상황에 따라 다른데 지금 상황에서는 크게 이익되는 부분이 없는 듯하여 주석처리    
(데이터 형식 바꿔주기type_change_category부분,      
수치형 데이터에서 범주형 컬럼 추가해주는 부분에서 각 3부분 카테고리로 타입변경부분 주석처리,    
학습 및 평가 부분에서 예측된 데이터 타입 int에서 category로 바꾼 부분 다시 주석처리)</strike>   
→ 해주는게 나아보여서 다시 활성화…      
xgb 에러 수정   
에러난 이유 : xgb는 0부터 순차적으로 레이블? 클래스? 생각하는데 실제는 1,2,3,4,5,6,7로 설정해둬서 달라서 에러   
그래서 우선 xgb만을 위해서 인코딩해주었던 값들을 -1씩 해서 새로운 시리즈로 만들었고 그런뒤 그 값을 y값에 입력해서 fit해주었다 그런 뒤   
예측값에 대해선 다른 것들과 동일하게 표시되는 것을 보고 싶어서 다시 +1해주어 통일시켜주었다(인코딩 값 범주를)   
그런데 이렇게 해서 해결하고나니 다른 에러가 떴다 feature_name에 특수기호 [,] >같은 것이 포함되어있다고 에러가 났다      
이것은 feature_name이 학습할 때 참고한 사항들?의 이름인데 따로 지정해주지 않으면(애초에 따로 지정하는 방법도 없는 것 같았다) 넣어준 X데이터의 컬럼들의 이름이 들어가게 되는데 컬럼명이 문제였다     
현재 모델에 들어가는 X_train의 컬럼에는 get_dummies로 인해서 컬럼명에 어마어마하게 많은 각 컬럼의 값들의 종류에 대해서 컬럼으로 추가되어있는데 이중 <1 year이라던가 10+ years가 문제가 되었어서 get_dummies만들고나서 get_dummies의 문제가 되는 해당 컬럼명을 미리 바꿔주었다   

ver 레퍼런스 참고 적용 작업 일부진행 후 b_ksy_4
일단 EDA 초벌하는 부분까지 다 수정해줬음
값 형식 통일 시켜주기 순서 위에서 확인하고 바로 수정하는 쪽으로 변경
train, test 분리하는 부분 순서 전처리 다하고나서 분리해주는 방식으로 순서를 뒷부분으로 미루기 위에 위에서 분리하던 부분 주석처리 그리고 전체 컬럼, 수치형 컬럼, 범주형 컬럼 직접 찾아서 명시할 필요없이 함수로 자동 저장하는 방식 추가해줌 단, category_col의 경우는 전체 컬럼 - 수치형 컬럼 해준 방식으로 해줘서 순서가 컬럼순서를 따르지 않는 문제가 있어서 set과 difference등을 쓰는 방식을 해봤는데 잘 안되서 결국 리스트 컴프리헨션 방식으로 해줌 ID가 유니크한 key, index역할일 것으로 예상되어 확인하는 부분 추가 및 제거 부분 따로 분리하여 추가 데이터 중복 확인 및 처리 추가
그리고 파이그래프로만 그렸던 대출등급 분포를 countplot으로도 추가해서 그려줌
그리고 시각화 부분에서 수치형 데이터 시각화에 바이올린 그래프 추가해줌
그리고 히스토그램 간단히만해서 그려준 부분 kde를 추가해서 그려준 것으로도 추가해줌
범주형 데이터 시각화 대출등급별로 나눠서 표시되게 count plot으로 그려줬음
레퍼런스 그대로 그릴 때는 경고가 떠서 해결해주기 위해 x축의 위치를 설정해줌
그리고 각 범주별 상대도수를 나타내는 heat map (피쳐 vs 타겟)를 그려주어 각 변수별 범주에 따라 대출등급분포가 어떻게 되는지 확인해보는 부분을 추가했다